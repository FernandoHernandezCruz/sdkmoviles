"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6615],{6615:(T,l,c)=>{c.r(l),c.d(l,{DirectoryPageModule:()=>Z});var u=c(6814),d=c(95),a=c(878),s=c(9481),g=c(5861),t=c(6689),y=c(5472),p=c(553),m=c(9862),f=c(2014);let h=(()=>{var r;class i{constructor(e,n){this.http=e,this.storage=n,this.appUrl=p.N.apiUrl,this.apiUrl=this.appUrl+"api/directory/"}getDirectory(){var e=this;return(0,g.Z)(function*(){const n=yield e.storage.get("user");return e.http.get(e.apiUrl+n.id)})()}}return(r=i).\u0275fac=function(e){return new(e||r)(t.LFG(m.eN),t.LFG(f.K))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),i})();function v(r,i){if(1&r){const o=t.EpF();t.TgZ(0,"ion-item",5),t.NdJ("click",function(){const U=t.CHM(o).$implicit,x=t.oxw();return t.KtG(x.openChat(U))}),t.TgZ(1,"ion-avatar",1),t._UZ(2,"img",6),t.qZA(),t.TgZ(3,"ion-label")(4,"h2"),t._uU(5),t.qZA()()()}if(2&r){const o=i.$implicit,e=t.oxw();t.xp6(2),t.Q6J("src",o.avatar?e.appUrl+o.avatar:"../../assets/profile.jpeg",t.LSH),t.xp6(3),t.Oqu(o.name)}}const D=[{path:"",component:(()=>{var r;class i{constructor(e,n){this.router=e,this.directoryService=n,this.platform=(0,t.f3M)(y.t4),this.appUrl=p.N.apiUrl}ngOnInit(){var e=this;return(0,g.Z)(function*(){(yield e.directoryService.getDirectory()).subscribe(n=>{e.directories=n},n=>{console.error("Error al obtener los mensajes:",n)})})()}getBackButtonText(){return this.platform.is("ios")?"Chats ":""}openChat(e){this.router.navigate(["/chat",e.id])}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(s.F0),t.Y36(h))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-directory"]],decls:9,vars:3,consts:[[3,"translucent"],["slot","start"],["defaultHref","/chat-list",3,"text"],[1,"ion-paddding"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"src"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t._UZ(3,"ion-back-button",2),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5,"Contactos"),t.qZA()()(),t.TgZ(6,"ion-content",3)(7,"ion-list"),t.YNc(8,v,6,2,"ion-item",4),t.qZA()()),2&e&&(t.Q6J("translucent",!0),t.xp6(3),t.Q6J("text",n.getBackButtonText()),t.xp6(5),t.Q6J("ngForOf",n.directories))},dependencies:[u.sg,a.BJ,a.Sm,a.W2,a.Gu,a.Ie,a.Q$,a.q_,a.wd,a.sr,a.oU]}),i})()}];let P=(()=>{var r;class i{}return(r=i).\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[s.Bz.forChild(D),s.Bz]}),i})(),Z=(()=>{var r;class i{}return(r=i).\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[u.ez,d.u5,a.Pc,P]}),i})()}}]);