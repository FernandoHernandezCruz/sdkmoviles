"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2720],{2720:(M,h,r)=>{r.r(h),r.d(h,{ChatListPageModule:()=>Z});var l=r(6814),p=r(95),a=r(878),c=r(9481),u=r(5861),g=r(553),t=r(6689),d=r(9862),m=r(2014);let f=(()=>{var e;class i{constructor(o,s){this.http=o,this.storage=s,this.appUrl=g.N.apiUrl,this.apiUrl=this.appUrl+"api/get-messages/"}getMessages(){var o=this;return(0,u.Z)(function*(){const s=yield o.storage.get("user");return o.http.get(o.apiUrl+s.id)})()}}return(e=i).\u0275fac=function(o){return new(o||e)(t.LFG(d.eN),t.LFG(m.K))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),i})();function C(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"ion-item",6),t.NdJ("click",function(){const P=t.CHM(n).$implicit,x=t.oxw();return t.KtG(x.openChat(P))}),t.TgZ(1,"ion-avatar",0),t._UZ(2,"img",7),t.qZA(),t.TgZ(3,"ion-label")(4,"h2"),t._uU(5),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.qZA()(),t.TgZ(8,"ion-note",8),t._uU(9),t.qZA()()}if(2&e){const n=i.$implicit,o=t.oxw();t.xp6(2),t.Q6J("src",o.appUrl+n.contactImage,t.LSH),t.xp6(3),t.Oqu(n.contactName),t.xp6(2),t.Oqu(n.lastMessage),t.xp6(2),t.Oqu(n.time)}}const v=[{path:"",component:(()=>{var e;class i{constructor(o,s){this.router=o,this.chatService=s,this.chats=[],this.appUrl=g.N.apiUrl}ngOnInit(){var o=this;return(0,u.Z)(function*(){(yield o.chatService.getMessages()).subscribe(s=>{o.chats=s},s=>{console.error("Error al obtener los mensajes:",s)})})()}openChat(o){this.router.navigate(["/chat",o.idChat])}}return(e=i).\u0275fac=function(o){return new(o||e)(t.Y36(c.F0),t.Y36(f))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-chat-list"]],decls:12,vars:2,consts:[["slot","start"],[1,"ion-padding"],["slot","fixed","vertical","top","horizontal","end",1,"custom-fab-position",3,"edge"],["href","/directory",1,"custom-fav-btn"],["name","logo-wechat"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"src"],["slot","end"]],template:function(o,s){1&o&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Chats"),t.qZA(),t.TgZ(4,"ion-buttons",0),t._UZ(5,"ion-menu-button"),t.qZA()()(),t.TgZ(6,"ion-content",1)(7,"ion-fab",2)(8,"ion-fab-button",3),t._UZ(9,"ion-icon",4),t.qZA()(),t.TgZ(10,"ion-list"),t.YNc(11,C,10,4,"ion-item",5),t.qZA()()),2&o&&(t.xp6(7),t.Q6J("edge",!0),t.xp6(4),t.Q6J("ngForOf",s.chats))},dependencies:[l.sg,a.BJ,a.Sm,a.W2,a.IJ,a.W4,a.Gu,a.gu,a.Ie,a.Q$,a.q_,a.fG,a.uN,a.wd,a.sr],styles:[".custom-fab-position[_ngcontent-%COMP%]{top:-25px}.custom-fav-btn[_ngcontent-%COMP%]{height:48px;width:50px}"]}),i})()}];let L=(()=>{var e;class i{}return(e=i).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.Bz.forChild(v),c.Bz]}),i})(),Z=(()=>{var e;class i{}return(e=i).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.ez,p.u5,a.Pc,L]}),i})()}}]);